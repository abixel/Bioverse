

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>bioverse.util module &mdash; Bioverse 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="bioverse.survey module" href="bioverse.survey.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Bioverse
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../table.html">The <code class="xref py py-class docutils literal notranslate"><span class="pre">Table</span></code> class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module1.html">Simulated planetary systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module2.html">Simulated survey datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module3.html">Hypothesis testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../module4.html">Computing statistical power</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Notebooks/GettingStarted1.html">Tutorial 1: Generating planetary systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Notebooks/GettingStarted2.html">Tutorial 2: Simulating survey datasets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Notebooks/Example1.html">Example 1: Finding the habitable zone</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Notebooks/Example2.html">Example 2: Detecting the age-oxygen correlation</a></li>
</ul>
<p class="caption"><span class="caption-text">Full Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="bioverse.analysis.html">bioverse.analysis module</a></li>
<li class="toctree-l1"><a class="reference internal" href="bioverse.classes.html">bioverse.classes module</a></li>
<li class="toctree-l1"><a class="reference internal" href="bioverse.constants.html">bioverse.constants module</a></li>
<li class="toctree-l1"><a class="reference internal" href="bioverse.custom.html">bioverse.custom module</a></li>
<li class="toctree-l1"><a class="reference internal" href="bioverse.functions.html">bioverse.functions module</a></li>
<li class="toctree-l1"><a class="reference internal" href="bioverse.generator.html">bioverse.generator module</a></li>
<li class="toctree-l1"><a class="reference internal" href="bioverse.hypothesis.html">bioverse.hypothesis module</a></li>
<li class="toctree-l1"><a class="reference internal" href="bioverse.plots.html">bioverse.plots module</a></li>
<li class="toctree-l1"><a class="reference internal" href="bioverse.survey.html">bioverse.survey module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">bioverse.util module</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Bioverse</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>bioverse.util module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/apidoc/bioverse.util.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="module-bioverse.util">
<span id="bioverse-util-module"></span><h1>bioverse.util module<a class="headerlink" href="#module-bioverse.util" title="Permalink to this headline">¶</a></h1>
<p>Miscellanous functions used elsewhere in the code.</p>
<dl class="py function">
<dt id="bioverse.util.bar">
<code class="sig-prename descclassname">bioverse.util.</code><code class="sig-name descname">bar</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">arg</span></em>, <em class="sig-param"><span class="n">do_bar</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bioverse.util.bar" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an iterable, returns a progress bar if tqdm is installed. Otherwise, returns the iterable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arg</strong> (<em>iterable</em>) – Iterable for which to return a progress bar.</p></li>
<li><p><strong>do_bar</strong> (<em>bool</em>) – If False, return <cite>arg</cite> and don’t display a progress bar.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>tqdm</strong> – If tqdm is installed, return a progress bar formed from <cite>arg</cite>. Otherwise, just return <cite>arg</cite>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>iterable</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="bioverse.util.get_type">
<code class="sig-prename descclassname">bioverse.util.</code><code class="sig-name descname">get_type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bioverse.util.get_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bioverse.util.is_bool">
<code class="sig-prename descclassname">bioverse.util.</code><code class="sig-name descname">is_bool</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bioverse.util.is_bool" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bioverse.util.import_function_from_file">
<code class="sig-prename descclassname">bioverse.util.</code><code class="sig-name descname">import_function_from_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">function_name</span></em>, <em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bioverse.util.import_function_from_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bioverse.util.get_planet_colors">
<code class="sig-prename descclassname">bioverse.util.</code><code class="sig-name descname">get_planet_colors</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bioverse.util.get_planet_colors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bioverse.util.cycle_index">
<code class="sig-prename descclassname">bioverse.util.</code><code class="sig-name descname">cycle_index</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vals</span></em>, <em class="sig-param"><span class="n">val</span></em>, <em class="sig-param"><span class="n">delta</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bioverse.util.cycle_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bioverse.util.nan_fill">
<code class="sig-prename descclassname">bioverse.util.</code><code class="sig-name descname">nan_fill</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bioverse.util.nan_fill" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bioverse.util.get_order">
<code class="sig-prename descclassname">bioverse.util.</code><code class="sig-name descname">get_order</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">N</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bioverse.util.get_order" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bioverse.util.mask_from_model_subset">
<code class="sig-prename descclassname">bioverse.util.</code><code class="sig-name descname">mask_from_model_subset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pl</span></em>, <em class="sig-param"><span class="n">subset</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bioverse.util.mask_from_model_subset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bioverse.util.compute_bin_centers">
<code class="sig-prename descclassname">bioverse.util.</code><code class="sig-name descname">compute_bin_centers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bins</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bioverse.util.compute_bin_centers" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a set of N bin edges, returns N-1 bin centers and half-widths.</p>
</dd></dl>

<dl class="py function">
<dt id="bioverse.util.compute_eta_Earth">
<code class="sig-prename descclassname">bioverse.util.</code><code class="sig-name descname">compute_eta_Earth</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d</span></em>, <em class="sig-param"><span class="n">by_type</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bioverse.util.compute_eta_Earth" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the value of eta Earth for a simulated sample of planets. Note this could be inaccurate if
there are stars without planets which are usually not listed in the simulated sample, although the algorithm
does attempt to correct for this.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d</strong> (<a class="reference internal" href="bioverse.classes.html#bioverse.classes.Table" title="bioverse.classes.Table"><em>Table</em></a>) – Simulated sample of planets.</p></li>
<li><p><strong>by_type</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, calculate eta Earth separately for each spectral type.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="bioverse.util.compute_occurrence_multiplier">
<code class="sig-prename descclassname">bioverse.util.</code><code class="sig-name descname">compute_occurrence_multiplier</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">optimistic</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">optimistic_factor</span><span class="o">=</span><span class="default_value">3</span></em>, <em class="sig-param"><span class="n">N_pts</span><span class="o">=</span><span class="default_value">30</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bioverse.util.compute_occurrence_multiplier" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the multiplier for occurrence rates and planet periods as a function of stellar mass.</p>
</dd></dl>

<dl class="py function">
<dt id="bioverse.util.update_stellar_catalog">
<code class="sig-prename descclassname">bioverse.util.</code><code class="sig-name descname">update_stellar_catalog</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">d_max</span><span class="o">=</span><span class="default_value">100</span></em>, <em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">'/home/abixel/codes/bioverse/Gaia.csv'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bioverse.util.update_stellar_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the catalog of nearby sources from Gaia DR2 and saves it to a file. Requires astroquery.</p>
</dd></dl>

<dl class="py function">
<dt id="bioverse.util.get_xyz">
<code class="sig-prename descclassname">bioverse.util.</code><code class="sig-name descname">get_xyz</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pl</span></em>, <em class="sig-param"><span class="n">t</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">M</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">n</span><span class="o">=</span><span class="default_value">3</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bioverse.util.get_xyz" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bioverse.util.normal">
<code class="sig-prename descclassname">bioverse.util.</code><code class="sig-name descname">normal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em>, <em class="sig-param"><span class="n">xmin</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">xmax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">size</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bioverse.util.normal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="bioverse.util.binned_average">
<code class="sig-prename descclassname">bioverse.util.</code><code class="sig-name descname">binned_average</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em>, <em class="sig-param"><span class="n">y</span></em>, <em class="sig-param"><span class="n">bins</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">match_counts</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bioverse.util.binned_average" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the average value of a variable in bins of another variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float array</em>) – Array of independent values along which to perform the binning.</p></li>
<li><p><strong>y</strong> (<em>float array</em>) – Array of dependent values to be averaged.</p></li>
<li><p><strong>bins</strong> (<em>int</em><em> or </em><em>float array</em><em>, </em><em>optional</em>) – Number of bins or array of bin edges.</p></li>
<li><p><strong>match_counts</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, adjust the bin sizes so that an equal number of data points fall in each bin. Passing
an array of bin edges for <cite>bins</cite> will override this setting.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>bins</strong> (<em>float array</em>) – Array of bin edges.</p></li>
<li><p><strong>values</strong> (<em>float array</em>) – Average value of <cite>y</cite> in each bin.</p></li>
<li><p><strong>errors</strong> (<em>float array</em>) – Uncertainty on <cite>values</cite> in each bin, i.e. the standard error on the mean.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="bioverse.survey.html" class="btn btn-neutral float-left" title="bioverse.survey module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Alex Bixel.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
    

  <style>
  
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search {
    display: block;
    width: 300px;
    padding: .809em;
    margin-bottom: .809em;
    z-index: 200;
    background-color: #0b750a;
    text-align: center;
    color: #fcfcfc;
    }
    .wy-nav-top {
      background: #0b750a;
    }
    
    .wy-menu-vertical header, .wy-menu-vertical p.caption {
    color: #0b750a;
    line-height: 32px;
    font-weight: 700;
    text-transform: uppercase;
    font-size: 85%;
    white-space: nowrap;
}

html.writer-html4 .rst-content dl:not(.docutils) > dt, html.writer-html5 .rst-content dl[class]:not(.option-list):not(.field-list):not(.footnote):not(.glossary):not(.simple) > dt {
    display: table;
    margin: 6px 0;
        margin-top: 6px;
    font-size: 90%;
    line-height: normal;
    background: #edffed;
    color: #0b750a;
    border-top: 3px solid #0b750a;
    padding: 6px;
    position: relative;
}

  a {
    color: #0b750a;
    text-decoration: none;
    cursor: pointer;
}

.wy-table-responsive table td, .wy-table-responsive table th {
    white-space: normal;
}

  </style>
  
  
  


</body>
</html>